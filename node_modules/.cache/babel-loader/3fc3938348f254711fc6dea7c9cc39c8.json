{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\reg.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\reg.vue","mtime":1578487916970},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577497044000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\babel-loader\\lib\\index.js","mtime":1577497138000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js","mtime":1577497122000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport GoBack from \"../components/goback.vue\";\nimport LogRegButton from \"../components/log-reg-button.vue\";\nimport Getpass from \"../components/getpass.vue\";\nimport Codetest from \"../components/codetest.vue\";\nexport default {\n  data: function data() {\n    return {\n      newData: '',\n      username: '',\n      phonenumber: '',\n      password: '',\n      phonecode: '',\n      mess: '',\n      bmess: false,\n      bcode: false,\n      bphone: false,\n      bname: false,\n      bphonecode: false,\n      bpass: false,\n      bleave: true,\n      msgcode: 0\n    };\n  },\n  components: {\n    GoBack: GoBack,\n    LogRegButton: LogRegButton,\n    Getpass: Getpass,\n    Codetest: Codetest\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  methods: {\n    upload: function upload() {\n      var file = document.getElementById('file');\n      file.click();\n    },\n    change: function change(data) {\n      this.newData = data;\n    },\n    test: function test() {\n      console.log(this.newData);\n      var code = document.querySelector('.reg__ul__code input');\n\n      if (code.value == this.newData) {\n        this.bmess = false;\n        this.bcode = true;\n      } else {\n        this.bmess = true;\n        this.mess = \"验证失败！\";\n        this.bcode = false;\n      }\n    },\n    testphone: function testphone() {\n      var pn = document.querySelector(\".reg__ul__tel input\");\n\n      if (/^1[0-9]{10}$/.test(pn.value)) {\n        this.bmess = false;\n        this.bphone = true;\n      } else {\n        this.bmess = true;\n        this.mess = \"手机号码格式不正确\";\n        this.bphone = false;\n      }\n    },\n    testname: function testname() {\n      var name = document.querySelector(\".reg__ul__name input\"); // 用户名：4-16位字母、数字或汉字，请不要输入特殊字符！\n\n      if (/^[\\u2E80-\\u9FFFa-zA-Z\\d]{4,16}$/.test(name.value)) {\n        this.bmess = false;\n        this.bname = true;\n      } else {\n        this.bmess = true;\n        this.mess = \"用户名格式不正确\";\n        this.bname = false;\n      }\n    },\n    testpass: function testpass() {\n      var pass = document.querySelector(\".reg__ul__pass input\");\n\n      if (/^[a-zA-Z\\d]{6,20}$/.test(pass.value)) {\n        this.bmess = false;\n        this.bpass = true;\n      } else {\n        this.bmess = true;\n        this.mess = \"请输入6-20位的字母或数字\";\n        this.bpass = false;\n      }\n    },\n    testphonecode: function testphonecode() {\n      var telcode = document.querySelector(\".reg__ul__telcode input\");\n\n      if (telcode.value == this.msgcode) {\n        this.mess = false;\n        this.bphonecode = true;\n      } else {\n        this.bmess = true;\n        this.mess = \"短信验证失败\";\n        this.bphonecode = false;\n      }\n    },\n    reg: function reg() {\n      var _this = this;\n\n      if (!this.bcode || !this.bphone || !this.bname || !this.bpass || !this.bphonecode) {\n        this.bmess = true;\n        this.mess = \"请填入完整信息\";\n        return;\n      }\n\n      var formData = new FormData();\n      formData.append('username', this.username);\n      formData.append('phonenumber', this.phonenumber);\n      formData.append('password', this.password);\n      var file = document.getElementById('file');\n      formData.append('icon', file.files[0]);\n      axios({\n        url: '/api/reg',\n        method: 'post',\n        data: formData\n      }).then(function (res) {\n        if (res.data.err == 0) {\n          // console.log(res.data);\n          _this.bleave = false; // 注册成功时不用后置守卫\n\n          _this.$router.push('/login'); // 跳转到登录页面\n\n        } else {\n          _this.bmess = true;\n          _this.mess = res.data.msg;\n        }\n      });\n    },\n    sendcode: function sendcode() {\n      var _this2 = this;\n\n      axios({\n        url: '/api/send-code',\n        params: {\n          tel: this.phonenumber\n        }\n      }).then(function (res) {\n        return _this2.msgcode = res.data.code;\n      } // res => console.log(res.data)\n      );\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    //后置守卫 组件内部\n    // 导航离开该组件的对应路由时调用\n    // 可以访问组件实例 `this`\n    if (this.bleave) {\n      var path = '';\n\n      switch (to.path) {\n        case '/home':\n          path = '首页';\n          break;\n\n        case '/login':\n          path = '登录';\n          break;\n\n        case '/doc-list':\n          path = '专家介绍';\n          break;\n\n        case '/doc-case':\n          path = '医院案例';\n          break;\n\n        case '/dynamic':\n          path = '医院动态';\n          break;\n\n        case '/discount':\n          path = '医院优惠';\n          break;\n\n        default:\n          path = '其它页面';\n      }\n\n      var isTo = window.confirm(\"\\u60A8\\u786E\\u5B9A\\u8981\\u53BB\\u5F80\".concat(path, \"\\u4E86\\u5417?\"));\n      isTo ? next(true) : next(false);\n    } else {\n      next();\n    }\n  }\n};",{"version":3,"sources":["reg.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"reg\">\r\n\t\t<GoBack data=\"注册\"></GoBack>\r\n\t\t<ul class=\"reg__ul\">\r\n\t\t\t<li class=\"reg__ul__code\"><input type=\"text\" placeholder=\"输入右边的验证码\" @blur=\"test\"><span><Codetest @event=\"change($event)\" @click.native=\"test\"/></span></li>\r\n\t\t\t<li class=\"reg__ul__name\"><input type=\"text\" placeholder=\"用户名:4-16位字母、数字或汉字\" @blur=\"testname\" v-model=\"username\"></li>\r\n\t\t\t<li class=\"reg__ul__tel\"><input type=\"number\" placeholder=\"手机号码\" @blur=\"testphone\" v-model=\"phonenumber\"></li>\r\n\t\t\t<li class=\"reg__ul__telcode\"><input type=\"number\" placeholder=\"输入收到的验证码\" @blur=\"testphonecode\" v-model=\"phonecode\"><span @click=\"sendcode\">点击发送验证码</span></li>\r\n\t\t\t<li class=\"reg__ul__pass\"><input type=\"password\" @blur=\"testpass\" placeholder=\"设置密码：6-20位数字和字母\" v-model=\"password\"></li>\r\n\t\t\t<li class=\"reg__ul__file\"><h4 id=\"h4\" @click=\"upload\">上传头像</h4><input type=\"file\" id=\"file\" value=\"上传头像\"></li>\r\n\t\t\t<li class=\"reg__ul__mess\" v-show=\"bmess\">{{mess}}</li>\r\n\t\t\t<LogRegButton text=\"注册\" @click.native=\"reg\"></LogRegButton>\r\n\t\t\t<Getpass text=\"登录\" url=\"/login\"/>\r\n\t\t</ul>\r\n\t</div>\n</template>\n\n<script>\r\n\timport GoBack from '../components/goback.vue'\r\n\timport LogRegButton from '../components/log-reg-button.vue'\r\n\timport Getpass from '../components/getpass.vue'\r\n\timport Codetest from '../components/codetest.vue'\r\n\texport default{\r\n\t\tdata(){return {\r\n\t\t\tnewData:'',\r\n\t\t\tusername:'',\r\n\t\t\tphonenumber:'',\r\n\t\t\tpassword:'',\r\n\t\t\tphonecode:'',\r\n\t\t\tmess:'',\r\n\t\t\tbmess:false,\r\n\t\t\tbcode:false,\r\n\t\t\tbphone:false,\r\n\t\t\tbname:false,\r\n\t\t\tbphonecode:false,\r\n\t\t\tbpass:false,\r\n\t\t\tbleave:true,\r\n\t\t\tmsgcode:0,\r\n\t\t}},\r\n\t\tcomponents:{\r\n\t\t\tGoBack,\r\n\t\t\tLogRegButton,\r\n\t\t\tGetpass,\r\n\t\t\tCodetest\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t},\r\n\t\tupdated(){\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tupload(){\r\n\t\t\t   let file=document.getElementById('file');\r\n\t\t\t   file.click()\r\n\t\t\t},\r\n\t\t\tchange(data){\r\n\t\t\t\tthis.newData = data;\r\n\t\t\t},\r\n\t\t\ttest(){\r\n\t\t\t\tconsole.log(this.newData)\r\n\t\t\t\tlet code = document.querySelector('.reg__ul__code input');\r\n\t\t\t\tif(code.value == this.newData){\r\n\t\t\t\t\tthis.bmess=false;\r\n\t\t\t\t\tthis.bcode=true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t\tthis.mess=\"验证失败！\"\r\n\t\t\t\t\tthis.bcode=false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttestphone(){\r\n\t\t\t\tlet pn = document.querySelector(\".reg__ul__tel input\");\r\n\t\t\t\tif (/^1[0-9]{10}$/.test(pn.value)) {\r\n\t\t\t\t\tthis.bmess=false;\r\n\t\t\t\t    this.bphone = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t    this.mess = \"手机号码格式不正确\";\r\n\t\t\t\t    this.bphone = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttestname(){\r\n\t\t\t\tlet name = document.querySelector(\".reg__ul__name input\");\r\n\t\t\t\t// 用户名：4-16位字母、数字或汉字，请不要输入特殊字符！\r\n\t\t\t\tif (/^[\\u2E80-\\u9FFFa-zA-Z\\d]{4,16}$/.test(name.value)) {\r\n\t\t\t\t\tthis.bmess=false;\r\n\t\t\t\t    this.bname = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t    this.mess = \"用户名格式不正确\";\r\n\t\t\t\t    this.bname = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttestpass(){\r\n\t\t\t\tlet pass = document.querySelector(\".reg__ul__pass input\");\r\n\t\t\t\tif (/^[a-zA-Z\\d]{6,20}$/.test(pass.value)) {\r\n\t\t\t\t\tthis.bmess=false;\r\n\t\t\t\t    this.bpass = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t    this.mess = \"请输入6-20位的字母或数字\";\r\n\t\t\t\t    this.bpass = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttestphonecode(){\r\n\t\t\t\tlet telcode = document.querySelector(\".reg__ul__telcode input\");\r\n\t\t\t\tif (telcode.value == this.msgcode  ) {\r\n\t\t\t\t\tthis.mess=false;\r\n\t\t\t\t    this.bphonecode = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t    this.mess = \"短信验证失败\";\r\n\t\t\t\t    this.bphonecode = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\treg() {\r\n\t\t\t\tif(!this.bcode || !this.bphone || !this.bname || !this.bpass || !this.bphonecode){\r\n\t\t\t\t\tthis.bmess=true;\r\n\t\t\t\t\tthis.mess=\"请填入完整信息\";\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet formData = new FormData();\r\n\t\t\t\tformData.append('username',this.username)\r\n\t\t\t\tformData.append('phonenumber',this.phonenumber)\r\n\t\t\t\tformData.append('password',this.password)\r\n\t\t\t\tlet file=document.getElementById('file');\r\n\t\t\t\tformData.append('icon',file.files[0]);\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/reg',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: formData\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t\t\t\tthis.bleave = false; // 注册成功时不用后置守卫\r\n\t\t\t\t\t\t\tthis.$router.push('/login'); // 跳转到登录页面\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.bmess=true\r\n\t\t\t\t\t\t\tthis.mess=res.data.msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tsendcode(){\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/send-code',\r\n\t\t\t\t\tparams: {tel:this.phonenumber}\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => this.msgcode = res.data.code\r\n\t\t\t\t\t// res => console.log(res.data)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeRouteLeave (to, from, next) { //后置守卫 组件内部\r\n\t\t  // 导航离开该组件的对应路由时调用\r\n\t\t  // 可以访问组件实例 `this`\r\n\t\t  \r\n\t\t\tif(this.bleave){\r\n\t\t\t\tlet path = '';\r\n\t\t\t\tswitch(to.path) {\r\n\t\t\t\t    case '/home':\r\n\t\t\t\t\t\tpath = '首页';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t    case '/login':\r\n\t\t\t\t\t\tpath = '登录';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '/doc-list':\r\n\t\t\t\t\t\tpath = '专家介绍';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '/doc-case':\r\n\t\t\t\t\t\tpath = '医院案例';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '/dynamic':\r\n\t\t\t\t\t\tpath = '医院动态';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '/discount':\r\n\t\t\t\t\t\tpath = '医院优惠';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t    default:\r\n\t\t\t\t        path = '其它页面';\r\n\t\t\t\t} \r\n\t\t\t\tlet isTo = window.confirm(`您确定要去往${path}了吗?`)\r\n\t\t\t\tisTo ? next(true) : next(false)\r\n\t\t\t}else{\r\n\t\t\t\tnext()\r\n\t\t\t}\r\n\t\t  \r\n\t\t},\r\n\t\t\r\n\t}\n</script>\n\n<style >\r\n\t.reg .reg__ul{\r\n\t\tmargin:.1rem .1rem .18rem .1rem;\r\n\t\tpadding:.08rem;\r\n\t\tbackground:#fff;\r\n\t}\r\n\t.reg .reg__ul li{\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tborder-radius: .03rem;\r\n\t\theight: .38rem;\r\n\t\tline-height: .38rem;\r\n\t\tpadding: 0 0.12rem;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-bottom: .15rem;\r\n\t\tborder: .01rem solid rgba(80,80,80,0.29);\r\n\t\tposition: relative;\r\n\t}\r\n\t.reg .reg__ul li input{\r\n\t\tfont-size: .14rem;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.reg .reg__ul li.reg__ul__telcode span{\r\n\t\tfont-size: .14rem;\r\n\t\tposition: absolute;\r\n\t\tz-index: 99;\r\n\t\tright: 0.1rem;\r\n\t\ttop: 0;\r\n\t\tcolor: #2D8DB9;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.reg .reg__ul .reg__ul__mess{\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #BF1001;\r\n\t\tfont-weight: 700;\r\n\t\t/* text-align: center; */\r\n\t\tfont-size: .14rem;\r\n\t\tborder: 0;\r\n\t}\r\n\t.reg .reg__ul .reg__ul__file{\r\n\t\tborder:0;\r\n\t}\r\n\t.reg .reg__ul .reg__ul__file h4{\r\n\t\tfont-weight: 100;\r\n\t\tfont-size: .14rem;\r\n\t\tcolor: #333;\r\n\t\twidth: 1.2rem;\r\n\t}\r\n\t.reg .reg__ul .reg__ul__file input{\r\n\t\tmargin-top:.06rem;\r\n\t}\n</style>\n"],"sourceRoot":"src/pages"}]}