{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\comment.vue","mtime":1578471508549},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577497044000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\babel-loader\\lib\\index.js","mtime":1577497138000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js","mtime":1577497122000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport GoBack from \"../components/goback.vue\";\nimport LogRegButton from \"../components/log-reg-button.vue\";\nexport default {\n  data: function data() {\n    return {\n      stara: '/images/star-active.png',\n      //亮星星\n      list: [0, 1, 2, 3, 4],\n      starb: '/images/star.png',\n      //暗星星\n      xing: 0,\n      xing1: 0,\n      xing2: 0,\n      xing3: 0,\n      data: {},\n      service: \"\",\n      pay: \"\",\n      docComment: \"\",\n      mess: \"\",\n      bmess: false\n    };\n  },\n  components: {\n    GoBack: GoBack,\n    LogRegButton: LogRegButton\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    // 条件异步\n    // 抓取token\n    var token = window.localStorage.getItem('token');\n\n    if (token) {\n      axios({\n        url: '/api/user',\n        headers: {\n          'token': token\n        }\n      }).then(function (res) {\n        return res.data.err == 0 ? next(function (_this) {\n          return _this.data = res.data.data;\n        }) : next('/login');\n      } // res => console.log(res.data)\n      );\n    } else {\n      next('/login');\n    }\n  },\n  methods: {\n    clickStars: function clickStars(i) {\n      this.xing = i + 1;\n    },\n    clickStars1: function clickStars1(i) {\n      this.xing1 = i + 1;\n    },\n    clickStars2: function clickStars2(i) {\n      this.xing2 = i + 1;\n    },\n    clickStars3: function clickStars3(i) {\n      this.xing3 = i + 1;\n    },\n    logout: function logout() {\n      window.localStorage.removeItem('token');\n      this.$router.push('/home');\n    },\n    comment: function comment() {\n      var _this2 = this;\n\n      // console.log(this.xing,this.xing1,this.xing2,this.xing3)\n      var formData = new FormData();\n      formData.append('username', this.data.username);\n      formData.append('operation', this.xing);\n      formData.append('before', this.xing1);\n      formData.append('environment', this.xing2);\n      formData.append('price', this.xing3);\n      formData.append('service', this.service);\n      formData.append('pay', this.pay);\n      formData.append('docComment', this.docComment);\n      axios({\n        url: '/api/comment',\n        method: 'post',\n        data: formData\n      }).then(function (res) {\n        if (res.data.err == 0) {\n          // console.log(res.data);\n          _this2.$router.push('/home'); // 跳转到登录页面\n\n        } else {\n          _this2.bmess = true;\n          _this2.mess = res.data.msg;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"comment\">\r\n\t\t<GoBack bgColor=\"#c7180a\" fSize=\".2rem\" data=\"评价\"></GoBack>\r\n\t\t<div class=\"comment-tips\">重要提示：请您一定在手术恢复期后再进行评价，这样评价的结果才能比较客观.</div>\r\n\t\t<section class=\"comment-body\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>手术效果:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>术前服务:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars1(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing1>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>就医环境:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars2(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing2>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>性价对比:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars3(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing3>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<ol>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>服务项目</span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"service\">\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>项目花费</span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"pay\">\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"last\">\r\n\t\t\t\t\t<span>评价医院</span>\r\n\t\t\t\t\t<textarea v-model=\"docComment\"></textarea>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t\t<LogRegButton text=\"提交\" @click.native=\"comment\" bgColor=\"#ffa800\"></LogRegButton>\r\n\t\t\t<div v-show=\"bmess\">231324{{mess}}</div>\r\n\t\t\t\r\n\t\t</section>\r\n\t\t<div class=\"userinfo\">\r\n\t\t\t<b>{{data.username}}</b>\r\n\t\t\t<span>|</span>\r\n\t\t\t<em @click=\"logout\">退出</em>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport GoBack from '../components/goback.vue'\r\n\timport LogRegButton from '../components/log-reg-button.vue'\r\n\texport default{\r\n\t\tdata(){return {\r\n\t\t\tstara:'/images/star-active.png',//亮星星\r\n\t\t\tlist:[0,1,2,3,4],\r\n\t\t\tstarb:'/images/star.png',//暗星星\r\n\t\t\txing:0,\r\n\t\t\txing1:0,\r\n\t\t\txing2:0,\r\n\t\t\txing3:0,\r\n\t\t\tdata:{},\r\n\t\t\tservice:\"\",\r\n\t\t\tpay:\"\",\r\n\t\t\tdocComment:\"\",\r\n\t\t\tmess:\"\",\r\n\t\t\tbmess:false\r\n\t\t}},\r\n\t\tcomponents:{\r\n\t\t\tGoBack,LogRegButton\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t},\r\n\t\tupdated(){\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t  // 条件异步\r\n\t\t  // 抓取token\r\n\t\t\tlet token = window.localStorage.getItem('token');\r\n\t\t\tif (token) {\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/user',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'token': token\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => res.data.err == 0 ? next(_this=>_this.data=res.data.data) : next('/login')\r\n\t\t\t\t\t// res => console.log(res.data)\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tnext('/login')\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tclickStars(i){\r\n\t\t\t\tthis.xing = i+1\r\n\t\t\t},\r\n\t\t\tclickStars1(i){\r\n\t\t\t\tthis.xing1 = i+1\r\n\t\t\t},\r\n\t\t\tclickStars2(i){\r\n\t\t\t\tthis.xing2 = i+1\r\n\t\t\t},\r\n\t\t\tclickStars3(i){\r\n\t\t\t\tthis.xing3 = i+1\r\n\t\t\t},\r\n\t\t\tlogout() {\r\n\t\t\t\twindow.localStorage.removeItem('token')\r\n\t\t\t\tthis.$router.push('/home')\r\n\t\t\t},\r\n\t\t\tcomment() {\r\n\t\t\t\t// console.log(this.xing,this.xing1,this.xing2,this.xing3)\r\n\t\t\t\tlet formData = new FormData();\r\n\t\t\t\tformData.append('username',this.data.username)\r\n\t\t\t\tformData.append('operation',this.xing)\r\n\t\t\t\tformData.append('before',this.xing1)\r\n\t\t\t\tformData.append('environment',this.xing2)\r\n\t\t\t\tformData.append('price',this.xing3)\r\n\t\t\t\tformData.append('service',this.service)\r\n\t\t\t\tformData.append('pay',this.pay)\r\n\t\t\t\tformData.append('docComment',this.docComment)\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/comment',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: formData\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t\t\t\tthis.$router.push('/home'); // 跳转到登录页面\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.bmess=true\r\n\t\t\t\t\t\t\tthis.mess=res.data.msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t\r\n\t}\n</script>\n\n<style lang=\"scss\" scoped=\"scoped\">\r\n\t.comment{\r\n\t\t.comment-tips{\r\n\t\t\tbackground-color: #fdf4e2;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding:0 .09rem;\r\n\t\t\tline-height: .3rem;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t\t.comment-body{\r\n\t\t\tpadding:.13rem .1rem .16rem .1rem;\r\n\t\t\tmargin:.1rem;\r\n\t\t\tmargin-bottom: .2rem;\r\n\t\t\tbackground:#fff;\r\n\t\t\tul{\r\n\t\t\t\tli{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tline-height: .32rem;\r\n\t\t\t\t\tmargin-bottom: .15rem;\r\n\t\t\t\t\tspan{\r\n\t\t\t\t\t\tmargin-right: .1rem;\r\n\t\t\t\t\t\twidth: .8rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.StarsWrap{\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tp{\r\n\t\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\t\timg{\r\n\t\t\t\t\t\t\t\twidth: .28rem;\r\n\t\t\t\t\t\t\t\theight: .28rem;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tol{\r\n\t\t\t\tli{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin-bottom: .15rem;\r\n\t\t\t\t\tline-height: .32rem;\r\n\t\t\t\t\tspan{\r\n\t\t\t\t\t\tmargin-right: .1rem;\r\n\t\t\t\t\t\twidth: .8rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput{\r\n\t\t\t\t\t\tborder:.01rem solid #999;\r\n\t\t\t\t\t\theight:.28rem;\r\n\t\t\t\t\t\tpadding:.05rem;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttextarea{\r\n\t\t\t\t\t\tborder:.01rem solid #999;\r\n\t\t\t\t\t\theight:1.1rem;\r\n\t\t\t\t\t\tpadding:.05rem;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tresize: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.userinfo{\r\n\t\t\tfont-size: .18rem;\r\n\t\t\theight: .3rem;\r\n\t\t\tpadding:.1rem;\r\n\t\t\tbackground:#fff;\r\n\t\t\tcolor: #1d70c6;\r\n\t\t\tline-height: .3rem;\r\n\t\t\tspan{\r\n\t\t\t\tmargin: 0 .1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>\n"],"sourceRoot":"src/pages"}]}