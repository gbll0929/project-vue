{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\src\\pages\\comment.vue","mtime":1578471508549},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577497044000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\babel-loader\\lib\\index.js","mtime":1577497138000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577497056000},{"path":"C:\\Users\\Administrator\\Desktop\\拜尔\\上海拜耳口腔\\DoctorO2O\\node_modules\\vue-loader\\lib\\index.js","mtime":1577497122000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport GoBack from '../components/goback.vue'\nimport LogRegButton from '../components/log-reg-button.vue'\nexport default{\n\tdata(){return {\n\t\tstara:'/images/star-active.png',//亮星星\n\t\tlist:[0,1,2,3,4],\n\t\tstarb:'/images/star.png',//暗星星\n\t\txing:0,\n\t\txing1:0,\n\t\txing2:0,\n\t\txing3:0,\n\t\tdata:{},\n\t\tservice:\"\",\n\t\tpay:\"\",\n\t\tdocComment:\"\",\n\t\tmess:\"\",\n\t\tbmess:false\n\t}},\n\tcomponents:{\n\t\tGoBack,LogRegButton\n\t},\n\tmounted(){\n\t},\n\tupdated(){\n\t},\n\tbeforeRouteEnter(to, from, next) {\n\t  // 条件异步\n\t  // 抓取token\n\t\tlet token = window.localStorage.getItem('token');\n\t\tif (token) {\n\t\t\taxios({\n\t\t\t\turl: '/api/user',\n\t\t\t\theaders: {\n\t\t\t\t\t'token': token\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\tres => res.data.err == 0 ? next(_this=>_this.data=res.data.data) : next('/login')\n\t\t\t\t// res => console.log(res.data)\n\t\t\t)\n\t\t} else {\n\t\t\tnext('/login')\n\t\t}\n\t},\n\tmethods:{\n\t\tclickStars(i){\n\t\t\tthis.xing = i+1\n\t\t},\n\t\tclickStars1(i){\n\t\t\tthis.xing1 = i+1\n\t\t},\n\t\tclickStars2(i){\n\t\t\tthis.xing2 = i+1\n\t\t},\n\t\tclickStars3(i){\n\t\t\tthis.xing3 = i+1\n\t\t},\n\t\tlogout() {\n\t\t\twindow.localStorage.removeItem('token')\n\t\t\tthis.$router.push('/home')\n\t\t},\n\t\tcomment() {\n\t\t\t// console.log(this.xing,this.xing1,this.xing2,this.xing3)\n\t\t\tlet formData = new FormData();\n\t\t\tformData.append('username',this.data.username)\n\t\t\tformData.append('operation',this.xing)\n\t\t\tformData.append('before',this.xing1)\n\t\t\tformData.append('environment',this.xing2)\n\t\t\tformData.append('price',this.xing3)\n\t\t\tformData.append('service',this.service)\n\t\t\tformData.append('pay',this.pay)\n\t\t\tformData.append('docComment',this.docComment)\n\t\t\taxios({\n\t\t\t\turl: '/api/comment',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata: formData\n\t\t\t}).then(\n\t\t\t\tres => {\n\t\t\t\t\tif(res.data.err==0){\n\t\t\t\t\t\t// console.log(res.data);\n\t\t\t\t\t\tthis.$router.push('/home'); // 跳转到登录页面\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.bmess=true\n\t\t\t\t\t\tthis.mess=res.data.msg;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t},\n\t\n}\n",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"comment.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\t<div class=\"comment\">\r\n\t\t<GoBack bgColor=\"#c7180a\" fSize=\".2rem\" data=\"评价\"></GoBack>\r\n\t\t<div class=\"comment-tips\">重要提示：请您一定在手术恢复期后再进行评价，这样评价的结果才能比较客观.</div>\r\n\t\t<section class=\"comment-body\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>手术效果:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>术前服务:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars1(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing1>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>就医环境:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars2(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing2>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>性价对比:</span>\r\n\t\t\t\t\t<div class=\"StarsWrap\">\r\n\t\t\t\t\t\t<p v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars3(index)\">\r\n\t\t\t\t\t\t  <img :src=\"xing3>index?stara:starb\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<ol>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>服务项目</span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"service\">\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<span>项目花费</span>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"pay\">\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"last\">\r\n\t\t\t\t\t<span>评价医院</span>\r\n\t\t\t\t\t<textarea v-model=\"docComment\"></textarea>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t\t<LogRegButton text=\"提交\" @click.native=\"comment\" bgColor=\"#ffa800\"></LogRegButton>\r\n\t\t\t<div v-show=\"bmess\">231324{{mess}}</div>\r\n\t\t\t\r\n\t\t</section>\r\n\t\t<div class=\"userinfo\">\r\n\t\t\t<b>{{data.username}}</b>\r\n\t\t\t<span>|</span>\r\n\t\t\t<em @click=\"logout\">退出</em>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport GoBack from '../components/goback.vue'\r\n\timport LogRegButton from '../components/log-reg-button.vue'\r\n\texport default{\r\n\t\tdata(){return {\r\n\t\t\tstara:'/images/star-active.png',//亮星星\r\n\t\t\tlist:[0,1,2,3,4],\r\n\t\t\tstarb:'/images/star.png',//暗星星\r\n\t\t\txing:0,\r\n\t\t\txing1:0,\r\n\t\t\txing2:0,\r\n\t\t\txing3:0,\r\n\t\t\tdata:{},\r\n\t\t\tservice:\"\",\r\n\t\t\tpay:\"\",\r\n\t\t\tdocComment:\"\",\r\n\t\t\tmess:\"\",\r\n\t\t\tbmess:false\r\n\t\t}},\r\n\t\tcomponents:{\r\n\t\t\tGoBack,LogRegButton\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t},\r\n\t\tupdated(){\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t  // 条件异步\r\n\t\t  // 抓取token\r\n\t\t\tlet token = window.localStorage.getItem('token');\r\n\t\t\tif (token) {\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/user',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'token': token\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => res.data.err == 0 ? next(_this=>_this.data=res.data.data) : next('/login')\r\n\t\t\t\t\t// res => console.log(res.data)\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tnext('/login')\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tclickStars(i){\r\n\t\t\t\tthis.xing = i+1\r\n\t\t\t},\r\n\t\t\tclickStars1(i){\r\n\t\t\t\tthis.xing1 = i+1\r\n\t\t\t},\r\n\t\t\tclickStars2(i){\r\n\t\t\t\tthis.xing2 = i+1\r\n\t\t\t},\r\n\t\t\tclickStars3(i){\r\n\t\t\t\tthis.xing3 = i+1\r\n\t\t\t},\r\n\t\t\tlogout() {\r\n\t\t\t\twindow.localStorage.removeItem('token')\r\n\t\t\t\tthis.$router.push('/home')\r\n\t\t\t},\r\n\t\t\tcomment() {\r\n\t\t\t\t// console.log(this.xing,this.xing1,this.xing2,this.xing3)\r\n\t\t\t\tlet formData = new FormData();\r\n\t\t\t\tformData.append('username',this.data.username)\r\n\t\t\t\tformData.append('operation',this.xing)\r\n\t\t\t\tformData.append('before',this.xing1)\r\n\t\t\t\tformData.append('environment',this.xing2)\r\n\t\t\t\tformData.append('price',this.xing3)\r\n\t\t\t\tformData.append('service',this.service)\r\n\t\t\t\tformData.append('pay',this.pay)\r\n\t\t\t\tformData.append('docComment',this.docComment)\r\n\t\t\t\taxios({\r\n\t\t\t\t\turl: '/api/comment',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: formData\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t\t\t\tthis.$router.push('/home'); // 跳转到登录页面\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.bmess=true\r\n\t\t\t\t\t\t\tthis.mess=res.data.msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t\r\n\t}\n</script>\n\n<style lang=\"scss\" scoped=\"scoped\">\r\n\t.comment{\r\n\t\t.comment-tips{\r\n\t\t\tbackground-color: #fdf4e2;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding:0 .09rem;\r\n\t\t\tline-height: .3rem;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t\t.comment-body{\r\n\t\t\tpadding:.13rem .1rem .16rem .1rem;\r\n\t\t\tmargin:.1rem;\r\n\t\t\tmargin-bottom: .2rem;\r\n\t\t\tbackground:#fff;\r\n\t\t\tul{\r\n\t\t\t\tli{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tline-height: .32rem;\r\n\t\t\t\t\tmargin-bottom: .15rem;\r\n\t\t\t\t\tspan{\r\n\t\t\t\t\t\tmargin-right: .1rem;\r\n\t\t\t\t\t\twidth: .8rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.StarsWrap{\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tp{\r\n\t\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\t\timg{\r\n\t\t\t\t\t\t\t\twidth: .28rem;\r\n\t\t\t\t\t\t\t\theight: .28rem;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tol{\r\n\t\t\t\tli{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin-bottom: .15rem;\r\n\t\t\t\t\tline-height: .32rem;\r\n\t\t\t\t\tspan{\r\n\t\t\t\t\t\tmargin-right: .1rem;\r\n\t\t\t\t\t\twidth: .8rem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinput{\r\n\t\t\t\t\t\tborder:.01rem solid #999;\r\n\t\t\t\t\t\theight:.28rem;\r\n\t\t\t\t\t\tpadding:.05rem;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttextarea{\r\n\t\t\t\t\t\tborder:.01rem solid #999;\r\n\t\t\t\t\t\theight:1.1rem;\r\n\t\t\t\t\t\tpadding:.05rem;\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tresize: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.userinfo{\r\n\t\t\tfont-size: .18rem;\r\n\t\t\theight: .3rem;\r\n\t\t\tpadding:.1rem;\r\n\t\t\tbackground:#fff;\r\n\t\t\tcolor: #1d70c6;\r\n\t\t\tline-height: .3rem;\r\n\t\t\tspan{\r\n\t\t\t\tmargin: 0 .1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>\n"]}]}